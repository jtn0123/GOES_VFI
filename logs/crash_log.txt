[37m[I] root: Log level set to DEBUG[0m
[36m[D] __main__: Debug mode enabled via --debug flag.[0m
[36m[D] __main__: Entering MainWindow.__init__... debug_mode=True[0m
[37m[I] __main__: Models instantiated.[0m
[37m[I] goesvfi.view_models.main_window_view_model: MainWindowViewModel initializing...[0m
[37m[I] goesvfi.view_models.main_window_view_model: FileSorterViewModel instantiated.[0m
[37m[I] goesvfi.view_models.main_window_view_model: DateSorterViewModel instantiated.[0m
[37m[I] goesvfi.view_models.processing_view_model: ProcessingViewModel initialized (Placeholder)[0m
[37m[I] goesvfi.view_models.main_window_view_model: ProcessingViewModel instantiated.[0m
[37m[I] goesvfi.view_models.main_window_view_model: MainWindowViewModel initialized.[0m
[37m[I] __main__: ViewModels instantiated.[0m
[37m[I] __main__: GUI Image processors instantiated.[0m
[36m[D] goesvfi.utils.gui_helpers: Entering ClickableLabel.__init__...[0m
[36m[D] goesvfi.utils.gui_helpers: Entering ClickableLabel.__init__...[0m
[36m[D] goesvfi.utils.gui_helpers: Entering ClickableLabel.__init__...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Enhanced start buttons created with direct handlers[0m
[36m[D] goesvfi.gui_tabs.main_tab: Connecting MainTab signals...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Connecting IO control signals...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Connecting preview control signals...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Connecting crop control signals...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Connecting processing setting signals...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Connecting RIFE option signals...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button already connected in _setup_ui[0m
[36m[D] goesvfi.gui_tabs.main_tab: Verifying processing signal connections...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Verifying processing signal connections...[0m
[36m[D] goesvfi.gui_tabs.main_tab: MainWindow has _handle_processing method: True[0m
[36m[D] goesvfi.gui_tabs.main_tab: MainWindow appears to have necessary handler methods[0m
[36m[D] goesvfi.gui_tabs.main_tab: Ensuring processing_started signal is connected...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Processing signal connection verified/created[0m
[36m[D] goesvfi.gui_tabs.main_tab: All MainTab signals connected.[0m
[36m[D] goesvfi.gui_tabs.main_tab: MainTab: Performing post-init setup...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Populating RIFE models...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Loaded RIFE analysis cache from /Users/justin/Documents/goesvfi/cache/rife_analysis_cache.json[0m
[36m[D] goesvfi.gui_tabs.main_tab: Using cached analysis for rife-v4.6 (rife-cli)[0m
[37m[I] goesvfi.gui_tabs.main_tab: RIFE model selected: rife-v4.6[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button check: has_paths=False, in_dir=None, out_file=None[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button check: RIFE selected, model_ok=True[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button should be enabled: False[0m
[36m[D] goesvfi.gui_tabs.main_tab: Restored last selected RIFE model: rife-v4.6[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button check: has_paths=False, in_dir=None, out_file=None[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button check: RIFE selected, model_ok=True[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button should be enabled: False[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button check: has_paths=False, in_dir=None, out_file=None[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button check: RIFE selected, model_ok=True[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button should be enabled: False[0m
[36m[D] goesvfi.gui_tabs.main_tab: _update_crop_buttons_state: Checking conditions - has_in_dir=False, has_crop=False[0m
[36m[D] goesvfi.gui_tabs.main_tab: MainTab: Post-init setup complete.[0m
[36m[D] goesvfi.gui_tabs.model_library_tab: Populating model table...[0m
[36m[D] goesvfi.gui_tabs.model_library_tab: Populated model table with 1 models.[0m
[36m[D] __main__: Using simplified loadSettings[0m
[36m[D] __main__: Successfully set fps_spinbox value to 30[0m
[36m[D] __main__: Set multiplier_spinbox to 4 (loaded mid_count=3)[0m
[36m[D] __main__: Set encoder_combo to RIFE[0m
[33m[W] __main__: Key 'scd' in profile but not in current settings.[0m
[36m[D] root: Setting up preview update...[0m
[36m[D] root: request_previews_update connected to _update_previews[0m
[37m[I] __main__: MainWindow initialized.[0m
[36m[D] __main__: Entering _update_previews. Current crop_rect: (1729, 330, 383, 462), Sanchez enabled: False[0m
[36m[D] __main__: Entering _update_previews method[0m
[36m[D] __main__: No valid input directory, clearing previews[0m
[36m[D] goesvfi.gui_tabs.main_tab: Entering _pick_in_dir...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Input directory selected: /Users/justin/Downloads/abi_rgb_all 18[0m
[36m[D] goesvfi.gui_tabs.main_tab: Updating MainWindow in_dir via main_window_ref: /Users/justin/Downloads/abi_rgb_all 18[0m
[36m[D] __main__: MainWindow setting in_dir to: /Users/justin/Downloads/abi_rgb_all 18[0m
[36m[D] __main__: Updating start button state due to input directory change[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button check: has_paths=True, in_dir=/Users/justin/Downloads/abi_rgb_all 18, out_file=None[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button check: RIFE selected, model_ok=True[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button should be enabled: True[0m
[36m[D] __main__: Entering _update_previews. Current crop_rect: (1729, 330, 383, 462), Sanchez enabled: False[0m
[36m[D] __main__: Entering _update_previews method[0m
[36m[D] __main__: Input directory: /Users/justin/Downloads/abi_rgb_all 18[0m
[36m[D] __main__: Loading first frame preview: abi_rgb_Clean_Longwave_IR_Window_Band_map_20241005T195020Z.png[0m
[36m[D] PIL.PngImagePlugin: STREAM b'IHDR' 16 13[0m
[36m[D] PIL.PngImagePlugin: STREAM b'IDAT' 41 8192[0m
[36m[D] __main__: Converted initial NumPy array to QImage (full_res_qimage).[0m
[36m[D] __main__: PRE-CROP Check: crop_rect=(1729, 330, 383, 462), initial_img_array shape=(2712, 2712, 4)[0m
[36m[D] __main__: INSIDE CROP BLOCK: Applying crop (1729, 330, 383, 462) to preview for abi_rgb_Clean_Longwave_IR_Window_Band_map_20241005T195020Z.png[0m
[36m[D] __main__: BEFORE CROP: initial_img_array shape=(2712, 2712, 4)[0m
[36m[D] __main__: AFTER CROP (Success): final_img_array shape=(462, 383, 4)[0m
[36m[D] __main__: Successfully converted final NumPy array to QImage and stored in label.processed_image[0m
[36m[D] __main__: Scaling final QImage for preview display[0m
[36m[D] __main__: Target label size: PyQt6.QtCore.QSize(232, 121)[0m
[36m[D] __main__: Image scaled successfully[0m
[36m[D] __main__: QPixmap created successfully[0m
[36m[D] __main__: Preview processing complete for /Users/justin/Downloads/abi_rgb_all 18/abi_rgb_Clean_Longwave_IR_Window_Band_map_20241005T195020Z.png, returning pixmap.[0m
[36m[D] __main__: Successfully set first frame preview[0m
[36m[D] __main__: Loading middle frame preview: abi_rgb_Clean_Longwave_IR_Window_Band_map_20241006T045020Z.png[0m
[36m[D] PIL.PngImagePlugin: STREAM b'IHDR' 16 13[0m
[36m[D] PIL.PngImagePlugin: STREAM b'IDAT' 41 8192[0m
[36m[D] __main__: Converted initial NumPy array to QImage (full_res_qimage).[0m
[36m[D] __main__: PRE-CROP Check: crop_rect=(1729, 330, 383, 462), initial_img_array shape=(2712, 2712, 4)[0m
[36m[D] __main__: INSIDE CROP BLOCK: Applying crop (1729, 330, 383, 462) to preview for abi_rgb_Clean_Longwave_IR_Window_Band_map_20241006T045020Z.png[0m
[36m[D] __main__: BEFORE CROP: initial_img_array shape=(2712, 2712, 4)[0m
[36m[D] __main__: AFTER CROP (Success): final_img_array shape=(462, 383, 4)[0m
[36m[D] __main__: Successfully converted final NumPy array to QImage and stored in label.processed_image[0m
[36m[D] __main__: Scaling final QImage for preview display[0m
[36m[D] __main__: Target label size: PyQt6.QtCore.QSize(232, 121)[0m
[36m[D] __main__: Image scaled successfully[0m
[36m[D] __main__: QPixmap created successfully[0m
[36m[D] __main__: Preview processing complete for /Users/justin/Downloads/abi_rgb_all 18/abi_rgb_Clean_Longwave_IR_Window_Band_map_20241006T045020Z.png, returning pixmap.[0m
[36m[D] __main__: Successfully set middle frame preview[0m
[36m[D] __main__: Loading last frame preview: abi_rgb_Clean_Longwave_IR_Window_Band_map_20241006T125020Z.png[0m
[36m[D] PIL.PngImagePlugin: STREAM b'IHDR' 16 13[0m
[36m[D] PIL.PngImagePlugin: STREAM b'IDAT' 41 8192[0m
[36m[D] __main__: Converted initial NumPy array to QImage (full_res_qimage).[0m
[36m[D] __main__: PRE-CROP Check: crop_rect=(1729, 330, 383, 462), initial_img_array shape=(2712, 2712, 4)[0m
[36m[D] __main__: INSIDE CROP BLOCK: Applying crop (1729, 330, 383, 462) to preview for abi_rgb_Clean_Longwave_IR_Window_Band_map_20241006T125020Z.png[0m
[36m[D] __main__: BEFORE CROP: initial_img_array shape=(2712, 2712, 4)[0m
[36m[D] __main__: AFTER CROP (Success): final_img_array shape=(462, 383, 4)[0m
[36m[D] __main__: Successfully converted final NumPy array to QImage and stored in label.processed_image[0m
[36m[D] __main__: Scaling final QImage for preview display[0m
[36m[D] __main__: Target label size: PyQt6.QtCore.QSize(232, 121)[0m
[36m[D] __main__: Image scaled successfully[0m
[36m[D] __main__: QPixmap created successfully[0m
[36m[D] __main__: Preview processing complete for /Users/justin/Downloads/abi_rgb_all 18/abi_rgb_Clean_Longwave_IR_Window_Band_map_20241006T125020Z.png, returning pixmap.[0m
[36m[D] __main__: Successfully set last frame preview[0m
[36m[D] goesvfi.gui_tabs.main_tab: _update_crop_buttons_state: Checking conditions - has_in_dir=True, has_crop=True[0m
[36m[D] goesvfi.gui_tabs.main_tab: _update_crop_buttons_state: Checking conditions - has_in_dir=True, has_crop=True[0m
[37m[I] goesvfi.gui_tabs.main_tab: Enhanced start button handler called[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button check: has_paths=True, in_dir=/Users/justin/Downloads/abi_rgb_all 18, out_file=/Users/justin/Downloads/abi_rgb_all 18_output_20250504_191300.mp4[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button check: RIFE selected, model_ok=True[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button should be enabled: True[0m
[36m[D] goesvfi.gui_tabs.main_tab: Gathering processing arguments...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Input directory from main_window: /Users/justin/Downloads/abi_rgb_all 18[0m
[36m[D] goesvfi.gui_tabs.main_tab: Crop rect from main_window: (1729, 330, 383, 462)[0m
[36m[D] goesvfi.gui_tabs.main_tab: Output file path: /Users/justin/Downloads/abi_rgb_all 18_output_20250504_191300.mp4[0m
[36m[D] goesvfi.gui_tabs.main_tab: Selected encoder: RIFE[0m
[36m[D] goesvfi.gui_tabs.main_tab: Selected RIFE model: rife-v4.6[0m
[36m[D] goesvfi.gui_tabs.main_tab: Building arguments dictionary...[0m
[36m[D] goesvfi.gui_tabs.main_tab: Processing arguments gathered: {'in_dir': PosixPath('/Users/justin/Downloads/abi_rgb_all 18'), 'out_file': PosixPath('/Users/justin/Downloads/abi_rgb_all 18_output_20250504_191300.mp4'), 'fps': 30, 'multiplier': 4, 'max_workers': 5, 'encoder': 'RIFE', 'rife_model_key': 'rife-v4.6', 'rife_model_path': PosixPath('/Users/justin/Documents/Github/GOES_VFI/goesvfi/models/rife-v4.6'), 'rife_exe_path': PosixPath('/Users/justin/Documents/Github/GOES_VFI/goesvfi/bin/rife-cli'), 'rife_tta_spatial': False, 'rife_tta_temporal': False, 'rife_uhd': False, 'rife_tiling_enabled': True, 'rife_tile_size': 384, 'rife_thread_spec': '0:0:0:0', 'sanchez_enabled': False, 'sanchez_resolution_km': 4.0, 'crop_rect': (1729, 330, 383, 462), 'ffmpeg_args': None}[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button check: has_paths=True, in_dir=/Users/justin/Downloads/abi_rgb_all 18, out_file=/Users/justin/Downloads/abi_rgb_all 18_output_20250504_191300.mp4[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button check: RIFE selected, model_ok=True[0m
[36m[D] goesvfi.gui_tabs.main_tab: Start button should be enabled: False[0m
[37m[I] goesvfi.view_models.processing_view_model: Start processing requested (Placeholder)[0m
[37m[I] goesvfi.gui_tabs.main_tab: Processing started - UI updated to processing state[0m
[37m[I] goesvfi.gui_tabs.main_tab: Starting processing via direct handler[0m
[37m[I] __main__: MainWindow: _handle_processing called - Starting video interpolation processing[0m
[36m[D] __main__: Processing arguments: {'in_dir': PosixPath('/Users/justin/Downloads/abi_rgb_all 18'), 'out_file': PosixPath('/Users/justin/Downloads/abi_rgb_all 18_output_20250504_191300.mp4'), 'fps': 30, 'multiplier': 4, 'max_workers': 5, 'encoder': 'RIFE', 'rife_model_key': 'rife-v4.6', 'rife_model_path': PosixPath('/Users/justin/Documents/Github/GOES_VFI/goesvfi/models/rife-v4.6'), 'rife_exe_path': PosixPath('/Users/justin/Documents/Github/GOES_VFI/goesvfi/bin/rife-cli'), 'rife_tta_spatial': False, 'rife_tta_temporal': False, 'rife_uhd': False, 'rife_tiling_enabled': True, 'rife_tile_size': 384, 'rife_thread_spec': '0:0:0:0', 'sanchez_enabled': False, 'sanchez_resolution_km': 4.0, 'crop_rect': (1729, 330, 383, 462), 'ffmpeg_args': None}[0m
[36m[D] goesvfi.pipeline.run_vfi: Entering VfiWorker.__init__... in_dir=/Users/justin/Downloads/abi_rgb_all 18, out_file_path=/Users/justin/Downloads/abi_rgb_all 18_output_20250504_191300.mp4, debug_mode=True[0m
[37m[I] __main__: VfiWorker thread started[0m
[37m[I] goesvfi.view_models.processing_view_model: Start processing requested (Placeholder)[0m
[33m[W] __main__: Processing already in progress, ignoring duplicate request[0m
[36m[D] goesvfi.pipeline.run_vfi: Entering VfiWorker.run...[0m
[36m[D] goesvfi.pipeline.run_vfi: Found RIFE executable at: /Users/justin/Documents/Github/GOES_VFI/goesvfi/bin/rife-cli[0m
[36m[D] goesvfi.pipeline.run_vfi: Calling run_vfi...[0m
[37m[I] goesvfi.pipeline.run_vfi: run_vfi called with: encoder_type=RIFE, false_colour=False (original setting: False), res_km=4km, crop_rect=(1729, 330, 383, 462), skip_model=False[0m
[33m[W] goesvfi.pipeline.run_vfi: Requested 3 intermediate frames, but only 1 is currently supported. Setting to 1.[0m
[37m[I] goesvfi.pipeline.run_vfi: Found 18 images. Skip AI model: False[0m
[37m[I] goesvfi.pipeline.run_vfi: Applying crop rectangle (x,y,w,h): (1729, 330, 383, 462) -> PIL format: (1729, 330, 2112, 792)[0m
[37m[I] goesvfi.pipeline.run_vfi: Using Sanchez temp dir: /var/folders/h2/d10fqbgx4sg3xt10y73ynf_m0000gn/T/goesvfi_sanchez_9uqfhc6a[0m
[37m[I] goesvfi.pipeline.run_vfi: Using processed image temp dir: /var/folders/h2/d10fqbgx4sg3xt10y73ynf_m0000gn/T/goesvfi_processed_j9kjm5v3[0m
[37m[I] goesvfi.pipeline.run_vfi: Image processors instantiated.[0m
[37m[I] goesvfi.pipeline.run_vfi: Processing first image sequentially: abi_rgb_Clean_Longwave_IR_Window_Band_map_20241005T195020Z.png[0m
[36m[D] PIL.PngImagePlugin: STREAM b'IHDR' 16 13[0m
[36m[D] PIL.PngImagePlugin: STREAM b'IDAT' 41 8192[0m
[36m[D] goesvfi.pipeline.run_vfi: Applying crop (1729, 330, 2112, 792) to image from abi_rgb_Clean_Longwave_IR_Window_Band_map_20241005T195020Z.png (post-Sanchez if applied).[0m
[36m[D] goesvfi.pipeline.run_vfi: Saving processed image to /var/folders/h2/d10fqbgx4sg3xt10y73ynf_m0000gn/T/goesvfi_processed_j9kjm5v3/processed_abi_rgb_Clean_Longwave_IR_Window_Band_map_20241005T195020Z_216165535185000.png[0m
[31m[E] goesvfi.pipeline.run_vfi: Worker failed processing abi_rgb_Clean_Longwave_IR_Window_Band_map_20241005T195020Z.png[0m
Traceback (most recent call last):
  File "/Users/justin/Documents/Github/GOES_VFI/goesvfi/pipeline/run_vfi.py", line 595, in _process_single_image_worker
    image_saver.save(image_data, str(processed_output_path))
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/justin/Documents/Github/GOES_VFI/goesvfi/pipeline/image_loader.py", line 99, in save
    raise NotImplementedError("ImageLoader does not implement the save method.")
NotImplementedError: ImageLoader does not implement the save method.
[31m[E] goesvfi.pipeline.run_vfi: Failed processing first image /Users/justin/Downloads/abi_rgb_all 18/abi_rgb_Clean_Longwave_IR_Window_Band_map_20241005T195020Z.png. Cannot continue.[0m
Traceback (most recent call last):
  File "/Users/justin/Documents/Github/GOES_VFI/goesvfi/pipeline/run_vfi.py", line 750, in run_vfi
    processed_path_0 = _process_single_image_worker(
        original_path=paths[0],
    ...<9 lines>...
        # target_height=orig_height # REMOVED
    )
  File "/Users/justin/Documents/Github/GOES_VFI/goesvfi/pipeline/run_vfi.py", line 595, in _process_single_image_worker
    image_saver.save(image_data, str(processed_output_path))
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/justin/Documents/Github/GOES_VFI/goesvfi/pipeline/image_loader.py", line 99, in save
    raise NotImplementedError("ImageLoader does not implement the save method.")
NotImplementedError: ImageLoader does not implement the save method.
[31m[E] goesvfi.pipeline.run_vfi: Error during VFI processing:[0m
Traceback (most recent call last):
  File "/Users/justin/Documents/Github/GOES_VFI/goesvfi/pipeline/run_vfi.py", line 750, in run_vfi
    processed_path_0 = _process_single_image_worker(
        original_path=paths[0],
    ...<9 lines>...
        # target_height=orig_height # REMOVED
    )
  File "/Users/justin/Documents/Github/GOES_VFI/goesvfi/pipeline/run_vfi.py", line 595, in _process_single_image_worker
    image_saver.save(image_data, str(processed_output_path))
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/justin/Documents/Github/GOES_VFI/goesvfi/pipeline/image_loader.py", line 99, in save
    raise NotImplementedError("ImageLoader does not implement the save method.")
NotImplementedError: ImageLoader does not implement the save method.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/justin/Documents/Github/GOES_VFI/goesvfi/pipeline/run_vfi.py", line 278, in run
    for progress_data in gen:
                         ^^^
  File "/Users/justin/Documents/Github/GOES_VFI/goesvfi/pipeline/run_vfi.py", line 774, in run_vfi
    raise IOError(f"Could not process first image {paths[0]}") from e
OSError: Could not process first image /Users/justin/Downloads/abi_rgb_all 18/abi_rgb_Clean_Longwave_IR_Window_Band_map_20241005T195020Z.png
[31m[E] __main__: Processing error: Video processing failed: Could not process first image /Users/justin/Downloads/abi_rgb_all 18/abi_rgb_Clean_Longwave_IR_Window_Band_map_20241005T195020Z.png[0m
Traceback (most recent call last):
  File "/Users/justin/Documents/Github/GOES_VFI/goesvfi/gui.py", line 1485, in _on_processing_error
    self.main_view_model.processing_vm.finish_processing(success=False, message=error_message)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ProcessingViewModel' object has no attribute 'finish_processing'. Did you mean: 'cancel_processing'?
